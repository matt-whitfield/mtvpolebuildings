---
---

<div class="container mx-auto px-4" id="quote-form">
  <h2 class="text-3xl font-bold text-center mb-8">Request a Quote</h2>
  <p class="text-center mb-8 text-gray-600">Fill out the form below and we'll get back to you with a custom quote for your project.</p>
  
  <div id="form-messages" class="max-w-2xl mx-auto mb-4 hidden">
    <div id="success-message" class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative hidden" role="alert">
      <strong class="font-bold">Success!</strong>
      <span class="block sm:inline"> Thank you for your quote request! We've received your information and will contact you within 1-2 business days.</span>
    </div>
    <div id="error-message" class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative hidden" role="alert">
      <strong class="font-bold">Error!</strong>
      <span class="block sm:inline" id="error-text"> There was a problem submitting your form. Please try again later or contact us directly.</span>
    </div>
  </div>
  
  <form 
    name="quote-request" 
    method="POST" 
    action="/thank-you"
    data-netlify="true"
    data-netlify-honeypot="bot-field"
    class="max-w-2xl mx-auto bg-white p-8 rounded-lg shadow-lg"
  >
    <input type="hidden" name="form-name" value="quote-request" />
    <p class="hidden">
      <label>
        Don't fill this out if you're human: <input name="bot-field" />
      </label>
    </p>
    <input type="hidden" name="subject" value="New Quote Request from MTV Pole Buildings Website" />
    <input type="hidden" name="recipient" value="matthwhitfield@gmail.com" />

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div class="form-group">
        <label for="name" class="block text-gray-700 font-medium mb-2">Name *</label>
        <input
          type="text"
          id="name"
          name="name"
          required
          class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
          placeholder="Your Name"
        />
      </div>

      <div class="form-group">
        <label for="email" class="block text-gray-700 font-medium mb-2">Email *</label>
        <input
          type="email"
          id="email"
          name="email"
          required
          class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
          placeholder="your.email@example.com"
        />
      </div>

      <div class="form-group">
        <label for="phone" class="block text-gray-700 font-medium mb-2">Phone Number *</label>
        <input
          type="tel"
          id="phone"
          name="phone"
          required
          class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
          placeholder="(555) 555-5555"
        />
      </div>

      <div class="form-group">
        <label for="buildingSize" class="block text-gray-700 font-medium mb-2">Building Size *</label>
        <input
          type="text"
          id="buildingSize"
          name="buildingSize"
          required
          class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
          placeholder="e.g., 30x40"
        />
      </div>

      <div class="form-group">
        <label for="buildingType" class="block text-gray-700 font-medium mb-2">Building Type *</label>
        <select
          id="buildingType"
          name="buildingType"
          required
          class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
        >
          <option value="">Select Type</option>
          <option value="residential">Residential</option>
          <option value="commercial">Commercial</option>
        </select>
      </div>

      <div class="form-group">
        <label for="location" class="block text-gray-700 font-medium mb-2">Building Location *</label>
        <input
          type="text"
          id="location"
          name="location"
          required
          class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
          placeholder="City, State"
        />
      </div>

      <div class="form-group md:col-span-2">
        <label for="comments" class="block text-gray-700 font-medium mb-2">Additional Comments</label>
        <textarea
          id="comments"
          name="comments"
          rows="4"
          class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
          placeholder="Please share any additional details about your project..."
        ></textarea>
      </div>
    </div>

    <div class="mt-6 text-center">
      <button
        type="submit"
        class="btn-primary"
        id="submit-button"
      >
        Submit Quote Request
      </button>
    </div>
  </form>
</div>

<style>
  .form-group {
    position: relative;
  }

  input:focus::placeholder,
  textarea:focus::placeholder {
    opacity: 0.5;
  }

  .btn-primary {
    background-color: #1a5276; /* Deeper blue that conveys trust and reliability */
    color: white;
    padding: 0.75rem 1.5rem;
    border-radius: 0.25rem;
    font-weight: 600;
    display: inline-block;
    text-decoration: none;
    transition: background-color 0.3s ease;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  }
  
  .btn-primary:hover {
    background-color: #2471a3; /* Slightly lighter blue on hover for feedback */
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  }

  button[type="submit"] {
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  }

  button[type="submit"]:hover {
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  }
</style>

<script>
  // Simple form submission handler for Netlify forms
  document.addEventListener('DOMContentLoaded', function() {
    const form = document.querySelector('form[name="quote-request"]');
    const formMessages = document.getElementById('form-messages');
    const successMessage = document.getElementById('success-message');
    const errorMessage = document.getElementById('error-message');
    
    // Check if the URL has a success parameter (will be used for our thank-you page redirect)
    const urlParams = new URLSearchParams(window.location.search);
    if (urlParams.get('success') === 'true') {
      formMessages?.classList.remove('hidden');
      successMessage?.classList.remove('hidden');
    }
    
    // Basic phone number formatting
    const phoneInput = document.getElementById('phone');
    phoneInput?.addEventListener('input', (e) => {
      const input = e.target as HTMLInputElement;
      let value = input.value.replace(/\D/g, '');
      if (value.length > 0) {
        if (value.length <= 3) {
          value = `(${value}`;
        } else if (value.length <= 6) {
          value = `(${value.slice(0, 3)}) ${value.slice(3)}`;
        } else {
          value = `(${value.slice(0, 3)}) ${value.slice(3, 6)}-${value.slice(6, 10)}`;
        }
      }
      input.value = value;
    });
  });
</script>